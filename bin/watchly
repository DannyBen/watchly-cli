#!/usr/bin/env ruby
require 'colsole'
require 'watchly/cli'

include Colsole

router = Watchly::CLI::CommandLine.router

begin
  exit router.run ARGV
rescue => e
  puts e.backtrace.reverse if ENV['DEBUG']
  say! "r`#{e.class}: #{e.message}`"
  exit 1
end
